import{_ as C,u as $,c as o,b as s,a as l,F as p,y as v,f as d,g,r as c,o as r,z as b,w as n,h as k}from"./index-DbY8GcTj.js";const w={class:"travels"},x={class:"main"},B={class:"member"},j={class:"applylist"},N=["onClick"],_=$(),V={data(){return{id:this.$route.params.id,members:{},applylist:{}}},methods:{applyuser(i){d.get(_.apiurl+"/party/apply/permit?party_id="+this.id+"&member_id="+i,{headers:{"access-token":g.get("access_token")}}).then(a=>{console.log(a.data)}).catch(a=>{console.log(a)})},get_party_members(i,a){d.get(_.apiurl+"/party/members?party_id="+i+"&page_num="+a,{headers:{}}).then(t=>{console.log(t),this.members=t.data.member_list}).catch(t=>{console.log(t)})},apply_list(i,a){d.get(_.apiurl+"/party/apply/list?party_id="+i+"&page_num="+a,{headers:{"access-token":g.get("access_token")}}).then(t=>{console.log(t.data),this.applylist=t.data.applicant_list}).catch(t=>{console.log(t)})}},mounted(){this.get_party_members(this.id,1),this.apply_list(this.id,1)}},F=Object.assign(V,{__name:"member",setup(i){return(a,t)=>{const f=c("a-page-header"),m=c("a-avatar"),u=c("a-card-meta"),y=c("a-card");return r(),o(p,null,[s("div",w,[l(f,{style:{border:"1px solid rgb(235, 237, 240)"},title:"活动成员",onBack:t[0]||(t[0]=()=>a.$router.go(-1))})]),s("div",x,[s("div",B,[t[2]||(t[2]=s("div",{style:{"text-align":"center","margin-bottom":"5vw"}},"团队成员",-1)),(r(!0),o(p,null,v(a.members,e=>(r(),o("div",{key:e,style:{display:"grid","justify-content":"center"}},[e.id?(r(),b(y,{key:0,hoverable:"",style:{width:"300px","justify-content":"center"}},{actions:n(()=>t[1]||(t[1]=[])),default:n(()=>[l(u,{title:e.name,description:e.signature,onClick:h=>this.$router.push(`/about/${e.id}`)},{avatar:n(()=>[l(m,{src:e.avatar},null,8,["src"])]),_:2},1032,["title","description","onClick"])]),_:2},1024)):k("",!0)]))),128))]),s("div",j,[t[3]||(t[3]=s("div",{style:{"text-align":"center","margin-bottom":"5vw"}},"申请列表:",-1)),(r(!0),o(p,null,v(a.applylist,e=>(r(),o("div",{key:e,style:{display:"grid","justify-content":"center"}},[e.id?(r(),b(y,{key:0,hoverable:"",style:{width:"300px"}},{actions:n(()=>[s("div",{onClick:h=>a.applyuser(e.id)},"同意加入",8,N)]),default:n(()=>[l(u,{title:e.name,description:e.signature,onClick:h=>this.$router.push(`/about/${e.id}`)},{avatar:n(()=>[l(m,{src:e.avatar},null,8,["src"])]),_:2},1032,["title","description","onClick"])]),_:2},1024)):k("",!0)]))),128))])])],64)}}}),E=C(F,[["__scopeId","data-v-afe7b94a"]]);export{E as default};
