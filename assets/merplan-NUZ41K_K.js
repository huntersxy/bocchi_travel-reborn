import{u as v,k as u,c as o,b as t,a as d,F as p,y as k,h as i,f as c,g as b,a2 as h,r as y,o as a,z as C,w,t as s,a3 as O}from"./index-DbY8GcTj.js";import"./itinerary-M_k2RHpX.js";import{C as B,H as E,P as I,E as N}from"./PlayCircleOutlined-SMX4Hisb.js";import"./index-DFkpxPor.js";const V={class:"travels"},$={class:"itinerary"},j={class:"item-info"},D=["onClick"],F={key:0,class:"itinerary"},H={key:1},m=v(),P={props:{},data(){return{id:1,party:{start_time:"2006-01-02",end_time:"2006-01-03"},info:{},partynull:!1}},methods:{goItinerary(n){const l=m.apiurl+"/party/itinerary/merge?itinerary_id="+n+"&party_id="+this.id;c.get(l,{headers:{"access-token":this.access_token}}).then(e=>{console.log(e),location.reload()}).catch(e=>{console.error(e)})},init(){c.get(m.apiurl+"/party/itinerary/my?party_id="+this.id,{headers:{"access-token":this.access_token}}).then(n=>{console.log(n),this.partynull=!0,this.info=n.data.itinerary_list,n.data.base.code==1e4&&(this.partynull=1,console.log(this.partynull))}).catch(n=>{console.error(n)})}},mounted(){this.id=Number(this.$route.params.id),this.access_token=b.get("access_token"),this.init()},computed:{getIcon(){return n=>{switch(n){case 1:return N;case 2:return I;case 3:return E;case 4:return B;case 5:return h}}},getType(){return n=>{switch(n){case 1:return"路线";case 2:return"活动";case 3:return"住宿";case 4:return"餐饮";case 5:return"其他";default:return"未知类型"}}}}},T=Object.assign(P,{__name:"merplan",setup(n){return u(!1),u(!1),(l,e)=>{const _=y("a-page-header"),g=O,f=y("a-empty");return a(),o(p,null,[t("div",V,[d(_,{style:{border:"1px solid rgb(235, 237, 240)"},title:"审核计划 ",onBack:e[0]||(e[0]=()=>l.$router.go(-1))})]),e[3]||(e[3]=t("br",null,null,-1)),t("div",$,[(a(!0),o(p,null,k(l.info,r=>(a(),o("div",{key:r.id,class:"item"},[r.is_merged?(a(),C(g,{key:0,style:{width:"90vw"}},{default:w(()=>[t("div",j,[t("div",null,"ID:"+s(r.id),1),t("div",null,"标题:"+s(r.title),1),t("div",null,"是否通过审核:"+s(r.is_merged),1),t("div",null,"备注:"+s(r.remark),1),t("div",null,"路线:"+s(r.route_json),1),t("div",null,"地址:"+s(r.rectangle),1),t("div",null,"开始时间:"+s(r.schedule_start_time),1),t("div",null,"结束时间:"+s(r.schedule_end_time),1),t("button",{onClick:S=>l.goItinerary(r.id)},e[1]||(e[1]=[t("span",{class:"shadow"},null,-1),t("span",{class:"edge"},null,-1),t("span",{class:"front text"}," 通过计划 ",-1)]),8,D)])]),_:2},1024)):i("",!0),e[2]||(e[2]=t("br",null,null,-1))]))),128))]),l.partynull?(a(),o("div",F)):i("",!0),l.partynull?i("",!0):(a(),o("div",H,[d(f)])),e[4]||(e[4]=t("br",null,null,-1)),e[5]||(e[5]=t("br",null,null,-1)),e[6]||(e[6]=t("br",null,null,-1)),e[7]||(e[7]=t("br",null,null,-1)),e[8]||(e[8]=t("br",null,null,-1)),e[9]||(e[9]=t("br",null,null,-1)),e[10]||(e[10]=t("br",null,null,-1))],64)}}});export{T as default};
