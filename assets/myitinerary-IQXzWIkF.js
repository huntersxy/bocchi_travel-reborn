import{u as v,c as a,b as e,a as i,F as u,y as f,h as d,f as p,g as b,a2 as k,r as c,o,w as h,t as l,a3 as C}from"./index-DbY8GcTj.js";import"./itinerary-M_k2RHpX.js";import{C as w,H as O,P as B,E}from"./PlayCircleOutlined-SMX4Hisb.js";import"./index-DFkpxPor.js";const I={class:"travels"},N={class:"itinerary"},V={class:"item-info"},$=["onClick"],j={key:0,class:"itinerary"},D={key:1},y=v(),F={props:{},data(){return{id:1,party:{start_time:"2006-01-02",end_time:"2006-01-03"},info:{},partynull:!1}},methods:{deleteItinerary(n){const s=y.apiurl+"/party/itinerary/delete?itinerary_id="+n;p.get(s,{headers:{"access-token":this.access_token}}).then(t=>{console.log(t),location.reload()}).catch(t=>{console.error(t)})},init(){p.get(y.apiurl+"/party/itinerary/my?party_id="+this.id,{headers:{"access-token":this.access_token}}).then(n=>{console.log(n),this.partynull=!0,this.info=n.data.itinerary_list,n.data.base.code==1e4&&(this.partynull=1,console.log(this.partynull))}).catch(n=>{console.error(n)})}},mounted(){this.id=Number(this.$route.params.id),this.access_token=b.get("access_token"),this.init()},computed:{getIcon(){return n=>{switch(n){case 1:return E;case 2:return B;case 3:return O;case 4:return w;case 5:return k}}},getType(){return n=>{switch(n){case 1:return"路线";case 2:return"活动";case 3:return"住宿";case 4:return"餐饮";case 5:return"其他";default:return"未知类型"}}}}},Q=Object.assign(F,{__name:"myitinerary",setup(n){return(s,t)=>{const m=c("a-page-header"),_=C,g=c("a-empty");return o(),a(u,null,[e("div",I,[i(m,{style:{border:"1px solid rgb(235, 237, 240)"},title:"我的计划 ",onBack:t[0]||(t[0]=()=>s.$router.go(-1))})]),t[3]||(t[3]=e("br",null,null,-1)),e("div",N,[(o(!0),a(u,null,f(s.info,r=>(o(),a("div",{key:r.id,class:"item"},[i(_,{style:{width:"90vw"}},{default:h(()=>[e("div",V,[e("div",null,"ID:"+l(r.id),1),e("div",null,"标题:"+l(r.title),1),e("div",null,"是否通过审核:"+l(r.is_merged),1),e("div",null,"备注:"+l(r.remark),1),e("div",null,"路线:"+l(r.route_json),1),e("div",null,"地址:"+l(r.rectangle),1),e("div",null,"开始时间:"+l(r.schedule_start_time),1),e("div",null,"结束时间:"+l(r.schedule_end_time),1),e("button",{onClick:H=>s.deleteItinerary(r.id)},t[1]||(t[1]=[e("span",{class:"shadow"},null,-1),e("span",{class:"edge"},null,-1),e("span",{class:"front text"}," 删除计划 ",-1)]),8,$)])]),_:2},1024),t[2]||(t[2]=e("br",null,null,-1))]))),128))]),s.partynull?(o(),a("div",j)):d("",!0),s.partynull?d("",!0):(o(),a("div",D,[i(g)])),t[4]||(t[4]=e("br",null,null,-1)),t[5]||(t[5]=e("br",null,null,-1)),t[6]||(t[6]=e("br",null,null,-1)),t[7]||(t[7]=e("br",null,null,-1)),t[8]||(t[8]=e("br",null,null,-1)),t[9]||(t[9]=e("br",null,null,-1)),t[10]||(t[10]=e("br",null,null,-1))],64)}}});export{Q as default};
