import{_ as f,u as h,c,b as a,a as i,t as n,d as _,v as k,w as r,F as b,f as u,g as p,r as g,o as w,j as l}from"./index-DbY8GcTj.js";import{E as y}from"./el-button-B7tlxTPJ.js";import"./index-DFkpxPor.js";const x={class:"about"},C={id:"about"},B={class:"user_img"},$=["src"],j={class:"user_name"},E={id:"name"},N={class:"follow"},F={data(){return{userid:"",setname:"设置",setcount:3,setshow:0,id:1,name:"未登录",avatar:"//xiey.work/ava.png",mail:"",signature:"这个人很懒，什么都没写。",access_token:"",refresh_token:"",avatarFile:null,showavatarpage:0,previewImage:null,file:null,apiurl:""}},methods:{follow(s){u.post(apiurl.apiurl+"/trust/action?object_uid="+this.id+"&action_type="+s,{},{headers:{"access-token":this.access_token}}).then(e=>{console.log(e.data.base.code),alert(e.data.base.msg)})},init(){u.get(apiurl.apiurl+"/bocchi/user/info?user_id="+this.id,{headers:{"access-token":this.access_token}}).then(s=>{console.log(s),s.data.base.code=="10000"&&(console.log("获取信息成功"),this.name=s.data.user.name,this.avatar=s.data.user.avatar,this.mail=s.data.user.email,this.signature=s.data.user.signature),s.data.base.code=="10007"&&(console.log("不存在"),this.name="该用户不存在"),console.log(this.avatar),this.avatar===""&&(this.avatar="//xiey.work/ava.png"),this.signature===""&&(this.signature="这个人很懒，什么都没写。")}).catch(s=>{console.error(s)})}},mounted(){this.id=Number(this.$route.params.id),this.access_token=p.get("access_token"),this.refresh_token=p.get("refresh_token"),this.init()},components:{},computed:{},watch:{},props:{},emits:{},setup(){}},S=Object.assign(F,{__name:"userpage",setup(s){return h(),(e,t)=>{const m=g("a-page-header"),d=y,v=g("a-divider");return w(),c(b,null,[a("div",x,[i(m,{style:{border:"1px solid rgb(235, 237, 240)","background-color":"#fff"},title:"Ta的资料","sub-title":"",onBack:t[0]||(t[0]=()=>e.$router.go(-1))}),a("div",C,[a("div",B,[a("img",{src:e.avatar,class:"touxiangimg rounded-image",onClick:t[1]||(t[1]=(...o)=>e.modavatarpage&&e.modavatarpage(...o)),style:{"object-fit":"cover",width:"50vw",height:"50vw","max-width":"300px","max-height":"300px"}},null,8,$)]),a("div",j,[a("text",E,n(e.name),1)]),t[7]||(t[7]=a("text",null,"个人签名",-1)),t[8]||(t[8]=a("div",{class:"signature"},null,-1)),_(a("div",{class:"sign-flur",onClick:t[2]||(t[2]=o=>e.savesignature(this.signature))},null,512),[[k,e.isEditing]]),a("text",null,"uid:"+n(e.id),1),a("text",null,"邮箱:"+n(e.mail),1),a("div",N,[i(d,{type:"primary",onClick:t[3]||(t[3]=o=>e.follow(1))},{default:r(()=>t[5]||(t[5]=[l("关注")])),_:1}),i(d,{type:"danger",onClick:t[4]||(t[4]=o=>e.follow(0))},{default:r(()=>t[6]||(t[6]=[l("取消关注")])),_:1})])]),i(v,{orientation:"left",class:"separate"},{default:r(()=>t[9]||(t[9]=[l("评价")])),_:1})]),t[10]||(t[10]=a("br",null,null,-1))],64)}}}),T=f(S,[["__scopeId","data-v-62f985f2"]]);export{T as default};
