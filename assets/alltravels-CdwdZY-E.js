import{_ as B,u as N,c as d,b as l,a as o,F as k,y as V,f as _,g as b,r as u,o as p,w as e,j as r,t as i,A as C,l as $,C as j,h as D}from"./index-DbY8GcTj.js";import{T as E}from"./TeamOutlined-B0wWS_Hm.js";const O={class:"travels"},F={class:"center"},S={key:0},A={style:{padding:"20px"},class:"relative"},L={class:"buttongroup"},x=N(),q={data(){return{trnumber:10,access_token:0,items:[{}]}},methods:{tohave(){this.$router.push("/alltravelshave/")},tomember(a){this.$router.push(`/member/${a}`)},ToEnd(a){_.get(x.apiurl+"/party/status?party_id="+a+"&action_type=1",{headers:{"access-token":this.access_token}}),this.$router.push(`/finish/${a}`)},applylist(a){_.get(x.apiurl+"/party/party/my?page_num="+a,{headers:{"access-token":this.access_token}}).then(s=>{console.log(s.data),this.items=s.data.party_list,console.log(this.items)}).catch(s=>{console.log(s)})}},mounted(){this.id=b.get("id"),this.access_token=b.get("access_token"),this.refresh_token=b.get("refresh_token"),this.applylist(1)},computed:{sortedItems(){return this.items.sort((a,s)=>s.id-a.id)}}},z=Object.assign(q,{__name:"alltravels",setup(a){return(s,t)=>{const w=u("a-page-header"),m=u("a-card"),g=u("a-divider"),y=u("router-link"),I=u("a-col"),f=u("a-row"),v=u("a-button");return p(),d(k,null,[l("div",O,[o(w,{style:{border:"1px solid rgb(235, 237, 240)"},title:"所有行程",onBack:t[0]||(t[0]=()=>s.$router.go(-1))})]),l("div",{class:"card-container",onClick:t[1]||(t[1]=(...n)=>s.tohave&&s.tohave(...n))},[o(m,{title:"查看已完成的行程",style:{width:"90%",margin:"5px 5px 5px","justify-content":"center","text-align":"center"}})]),l("div",F,[(p(!0),d(k,null,V(s.sortedItems,n=>(p(),d("div",{key:n.id,class:"item"},[n.status?D("",!0):(p(),d("div",S,[o(g,{orientation:"left",class:"separate"},{default:e(()=>[r("活动名: "+i(n.title),1)]),_:2},1024),l("div",A,[o(f,null,{default:e(()=>[o(m,{class:"relative-card",title:"活动详情",bordered:!1},{extra:e(()=>[o(y,{to:`/partys/${n.id}`},{default:e(()=>t[2]||(t[2]=[r(" 查看详细 ")])),_:2},1032,["to"])]),default:e(()=>[o(y,{to:`/partys/${n.id}`},{default:e(()=>[o(f,null,{default:e(()=>[o(I,{class:"inner-word"},{default:e(()=>[t[3]||(t[3]=l("b",null,"行程ID：",-1)),r(i(n.id)+" ",1),t[4]||(t[4]=l("br",null,null,-1)),t[5]||(t[5]=l("b",null,"创建者ID：",-1)),r(i(n.founder_id)+" ",1),t[6]||(t[6]=l("br",null,null,-1)),t[7]||(t[7]=l("b",null,"简介：",-1)),r(" "+i(n.content)+" ",1),t[8]||(t[8]=l("br",null,null,-1)),t[9]||(t[9]=l("b",null,"类型：",-1)),r(" "+i(n.type)+" ",1),t[10]||(t[10]=l("br",null,null,-1)),t[11]||(t[11]=l("b",null,"城市：",-1)),r(i(n.province)+"，"+i(n.city)+" ",1),t[12]||(t[12]=l("br",null,null,-1)),t[13]||(t[13]=l("b",null,"成员人数：",-1)),r(" "+i(n.member_count)+" ",1),t[14]||(t[14]=l("br",null,null,-1))]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]),o(g),l("div",L,[o(v,{style:{"margin-right":"5px"},icon:C($(E)),onClick:T=>s.tomember(n.id)},{default:e(()=>t[15]||(t[15]=[r("查看成员")])),_:2},1032,["icon","onClick"]),o(v,{type:"primary",onClick:T=>s.ToEnd(n.id),style:{"margin-right":"5px"},icon:C($(j))},{default:e(()=>t[16]||(t[16]=[r("结束行程")])),_:2},1032,["onClick","icon"])])]),_:2},1024)]),_:2},1024)])]))]))),128))]),t[17]||(t[17]=l("br",null,null,-1)),t[18]||(t[18]=l("br",null,null,-1)),t[19]||(t[19]=l("br",null,null,-1)),t[20]||(t[20]=l("br",null,null,-1)),t[21]||(t[21]=l("br",null,null,-1)),t[22]||(t[22]=l("br",null,null,-1)),t[23]||(t[23]=l("br",null,null,-1))],64)}}}),J=B(z,[["__scopeId","data-v-220359d7"]]);export{J as default};
